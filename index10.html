<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<script type='text/javascript' src="./dist/React.js"></script>
	<!-- <script type='text/javascript' src="./react.js"></script>
      <script type='text/javascript' src="./react-dom.js"></script>-->
	<script type='text/javascript' src="./lib/ReactTestUtils.js"></script>
	<script type='text/javascript' src="./lib/babel.js"></script>

</head>

<body>

	<pre>React 15 </pre>


	<div id='root' class="root">

	</div>
	<script type='text/babel'>
        
        var container = document.getElementById('root');
          var div = container;
          if (!window.ReactDOM) {
              window.ReactDOM = React;
		  }
	    var log = {
			push(a){
				console.log(a)
			}
        }
        var Fragment = React.Fragment
        var instances = {}
        class App extends React.Component {
            state = {
                value: ""
            }
            onChange(e) {
                this.setState({
                    value: e.target.value
                })
            }
            render() {
                return (
                    <div id="root">
                        <h1>基本使用</h1>
                        <p>通过 dataSource 设置自动完成的数据源</p>
                        <AutoComplete value={this.state.value} onChange={this.onChange.bind(this)} />
                    </div>
                    );
            }
        }
        class Portal extends React.Component{
            constructor(props){
                super(props)
                this.container = document.createElement("div")
                document.body.appendChild(this.container)
            }
            render(){
                return ReactDOM.createPortal(<strong>{this.props.value}</strong>, this.container)
            }
        }
        class AutoComplete extends React.Component {
            constructor(props){
                super(props)
            }
            render() {
                console.log(this)
                var portal
                if(this.props.value){
                    portal = <Portal value={this.props.value} />
                }
                return [<div>
                        <input value={this.props.value} onChange={this.props.onChange} />
                    </div>,
                 portal ]
            }
        }
       
        ReactDOM.render(<App id="a2"/>, container)
console.log(instances)


    </script>


</html>