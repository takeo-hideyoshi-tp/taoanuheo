<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src='./dist/jsx-parser.js'></script>
    <script src='./dist/genCode.js'></script>
    <script src='./dist/anu.js'></script>
    <script>
        anu.PropTypes = {}
        var Children = anu.createClass({
            contextTypes: {
                value: anu.PropTypes.string
            },
            render: function() {
                return evalCode(`<div>{this.context.value || '并没有context'}</div>`);
            }
        });


        var Parent = anu.createClass({
            childContextTypes: {
                value: anu.PropTypes.string
            },
            getChildContext: function() {
                return {
                    value: '上下文'
                };
            },
            render: function() {
                return evalCode(`
    	<div id="333">
        {this.props.children}
      </div>`);
            }
        });

        var App = anu.createClass({
            render: function() {
                console.log(this.props, this)
                return eval('0,' + genCode(`
      <Parent>
        <Children />
      </Parent>`));
            }
        });

        window.onload = function() {
            //render4个参数， vnode, container, callback
            var result = anu.render(anu.createElement(Parent), document.getElementById('container'))
            console.log(result)
        }
    </script>
</head>

<body>
    <div id="container">
        <!-- This element's contents will be replaced with your component. -->
    </div>
    <div>这个默认会被清掉</div>
</body>

</html>