<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">   
   <!-- <script type='text/javascript' src="./dist/React.js"></script>-->

   <script type='text/javascript' src="./test/react.js"></script>
   <script type='text/javascript' src="./test/react-dom.js"></script>
     <script type='text/javascript' src="./lib/babel.js"></script>
    
  <script type='text/babel'>
  var s
  window.onload = function(){
   
    class Issue extends React.PureComponent {
        state = {
            status: 'normal'
        };
    
        componentWillUnmount() {
            this.setState({},function(){
              console.log('===============')
            })
        }
    
        render() {
            const {status} = this.state;
    
            if (status === 'unmount') {
                throw new Error('Issue unmounted');
            }
    
            return <span>Issue status: {status}</span>
        }
    }
    
    class App extends React.PureComponent {
        state = {
            showIssue: true
        };
    
        render() {
            const {showIssue} = this.state;
    
            return (
                <div>
                    {showIssue && <Issue />}
                    <button type="button" onClick={() => this.setState({showIssue: !showIssue})}>Click</button>
                </div>
            )
        }
    }
    
    ReactDOM.render(
        <App />,
        document.body.appendChild(document.createElement('div'))
    );
 
  }
  </script>

</head>
<body>
    
        <div>开发者工具</div>
        <div id='example'></div>
    
    
</body>
    
 </html>

