<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script src="./dist/React.js"></script>
  <script src="./react.development2.js"></script>
  <script src="./react-dom.development2.js"></script>

  <script src="./test/babel.js"></script>


</head>

<body>

  <pre>
            
    </pre>
  <div id='example'></div>
  <div id='console'></div>
  <script type='text/babel'>
        var expect = function(a) {
            return {
                toBe: function(b) {
                    console.log(a, b, a === b)
                }
            }
        }
      var container = document.getElementById("example");
      var AsyncComponent = React.unstable_AsyncComponent;

      var expect = function(a) {
        return {
            toBe: function(b) {
                console.log(a,"vs", b, a === b)
            },
            toEqual(b){
                console.log(a,"vs", b, a +""=== b+"")
            },
            toThrow(b){
                try{
                    a()
                }catch(e){
                    console.log(e,"vs", b, e.message +""=== b+"")
                }
            }
        }
    }
    
    let instance;
    class Component extends React.unstable_AsyncComponent {
      state = {step: 0};
      render() {
        instance = this;
        return <div>{this.state.step}</div>;
      }
    }

    ReactDOM.render(
      <div>
        <Component />
      </div>,
      container,
    );
    setTimeout(function(){
      instance.setState({step: 1});
      expect(container.textContent).toEqual('0');
      setTimeout(function(){
        expect(container.textContent).toEqual('1');
      },200)
    
    },100)
   

    </script>
</body>

</html>