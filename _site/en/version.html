<html lang="zh-CN"><head><meta charSet="UTF-8"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><link rel="apple-touch-icon" sizes="180x180" href="../ydoc/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="../ydoc/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="../ydoc/images/favicon-16x16.png"/><link rel="manifest" href="../ydoc/images/manifest.json"/><link rel="mask-icon" href="../ydoc/images/safari-pinned-tab.svg" color="#5bbad5"/><meta name="theme-color" content="#ffffff"/><meta http-equiv="Cache-Control" content="no-transform"/><meta http-equiv="Cache-Control" content="no-siteapp"/><title>English</title><link rel="stylesheet" href="../ydoc/styles/style.css"/><meta name="author" content="ymfe"/><meta name="keywords"/><meta name="description" content="website description"/><meta id="releativePath" content=".."/><link rel="stylesheet" href="../ydoc/ydoc-plugin-search/search.css"/></head><body><div class="g-doc"><div class="m-aside"><div class="m-summary" id="js-menu"><div class="m-summary-content" id="js-menu-content"><div class="m-summary-block"><ul class="m-summary-list"><li class="item"><a href="install.html" class="href">install</a></li><li class="item"><a href="author.html" class="href">author</a></li><li class="item"><a href="intention.html" class="href">intention</a></li><li class="item"><a href="compat.html" class="href">compat</a></li><li class="item"><a href="" class="href">log</a></li><li class="item"><a href="ssr.html" class="href">ssr</a></li><li class="item"><a href="router.html" class="href">router</a></li><li class="item"><a href="store.html" class="href">state manager</a></li></ul></div></div></div><div class="m-summary-switch" id="js-summary-switch"><svg viewBox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="15" height="15" class="bottom"><g transform="translate(904.92214,-879.1482)"><path d="m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,-55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,-174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,-174.68583 0.6895,0 26.281,25.03215 56.8701,55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864-231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,-104.0616 -231.873,-231.248 z" fill="#fff"></path></g></svg><svg viewBox="0 0 926.23699 573.74994" version="1.1" x="0px" y="0px" width="15" height="15" class="top"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="aaa" fill="#fff" fill-rule="nonzero"><path d="M231.2455,342.502 L0,111.25397 L55.6165,55.62697 C86.2056,25.03212 111.7971,-2.99999998e-05 112.4866,-2.99999998e-05 C113.176,-2.99999998e-05 192.3503,78.60859 288.4293,174.6858 L463.1185,349.3716 L637.8077,174.6858 C733.8867,78.60859 813.060896,-2.99999997e-05 813.750396,-2.99999997e-05 C814.439896,-2.99999997e-05 840.031396,25.03212 870.620496,55.62697 L926.236996,111.25397 L694.9915,342.502 C567.8065,469.6884 463.4636,573.75 463.1185,573.75 C462.7734,573.75 358.4305,469.6884 231.2455,342.502 Z" id="Shape" transform="translate(463.118498, 286.874985) scale(1, -1) translate(-463.118498, -286.874985) "></path></g></g></svg></div></div><div class="m-main" id="js-panel"><header class="m-header" id="js-header"><div class="m-header-title js-logo"><a href="../index.html" target="_self"><img class="logo" width="36" src="../anujs/favicon@1x.png"/><h6 class="name">anujs</h6></a></div><div><div class="m-search">
      <div class="icon">&#xf0fd;</div>
      <input type="text" class="input js-input" placeholder="搜索" />
      <div class="m-search-result js-search-result"></div>
    </div></div><nav class="m-header-nav js-nav"><ul class="m-header-items"><li class="item active"><a class="href" href="index.html">English</a></li><li class="item "><a class="href" href="../ch/index.html">中文</a></li></ul></nav><div id="js-nav-btn" class="m-header-btn ui-font-ydoc"></div></header><div class="m-content" id="js-content"><div id="markdown-body" class="m-content-container markdown-body"><h2 id="1.4.3-2018.06.14">1.4.3 (2018.06.14)</h2>
<ol>
<li>miniCreateClass default to using IEComponent in the old IE,</li>
<li>Fix bug that createClass does not continue mixin</li>
<li>Remove all element nodes below the option element</li>
<li>Remove NULLREF task, add DUPLEX task, ahead of all dom related tasks</li>
<li>Built-in router supports IE8 hashchange</li>
<li>updateContext renamed updateContent, this is a mistake</li>
</ol>
<h2 id="1.4.2-2018.06.07">1.4.2 (2018.06.07)</h2>
<ol>
<li>add miniCreateClass, and use it to recreate createClass, Unbatch, PureComponent, createContext</li>
<li>Add a WORKING task to avoid whole tree updates</li>
<li>Fix IE8-compatible BUG for option in controlled component</li>
<li>Add a built-in router</li>
</ol>
<h2 id="1.4.1-2018.06.04">1.4.1 (2018.06.04)</h2>
<p>The content of the text node is directly replaced with fiber.props
2. Fix input pinyin input method BUG
3. Fix the bug in updateHostComponent that overrides the children object
4. Fixed createClass BUG
5. Correct SSR BUG
6. Simplify the commitDFS loop</p>
<h2 id="1.4.0-2018.05.30">1.4.0 (2018.05.30)</h2>
<ol>
<li>Test all changed to jest</li>
<li>The cwu hook must be removed when calling</li>
<li>When updating batches, each component can only be updated once</li>
<li>Reconfigure the controlled components. They will be delayed and executed in batchedUpdate. Run all the tests.</li>
<li>emptyElement is no longer recursively removed, but recursively flushes the data attached to the element node to prevent memory leaks.</li>
<li>Move createClass out of the core library</li>
<li>Reconstruct the error boundary, the border component with captureValues, catchError, catchError flag, and put into the global boundaryaries</li>
<li>Reconstruct the contextStack, after the setState is guaranteed, restore the previous stack from the unmaskedContext of the current component.</li>
</ol>
<h2 id="1.3.2-2018.04.16">1.3.2 (2018.04.16)</h2>
<ol>
<li>Handling the onChange event BUG of the Chinese input method under the mobile terminal</li>
</ol>
<h2 id="1.3.1-2018.03.18">1.3.1 (2018.03.18)</h2>
<ol>
<li>React.Fragment support key attribute</li>
<li>Fixed an update bug that had a <code>lifecycle stateless component</code></li>
<li>Implement React.createRef and React.forwardRef</li>
<li>new packages createResource and createSubscription processing state, put in lib</li>
<li>Var changes collectively to let const</li>
</ol>
<h2 id="1.3.0-2018.03.06">1.3.0 (2018.03.06)</h2>
<ol>
<li>Support createContext new API for React 16.3</li>
<li>Add a lot of React.Fragment test, fix some edge bugs</li>
<li>Upgrade diff mechanism, compare old and new vnodes, change to fiber and compare new vnodes, use new vnode data to update fiber and view</li>
<li>Added input[type=search] onChange event support</li>
<li>Fixed an edge bug in the antd3.0 portal (repeatedly inserted twice, resulting in the text node disappearing)</li>
<li>Major changes to property names and method names, and React16‘s Fiber close</li>
</ol>
<blockquote>
<p>* <code>vnode.vtype</code> --&gt; fiber.tag</p>
<ul>
<li><code>instance.__isStateless</code> --&gt; fiber._isStateless</li>
<li><code>updater</code> --&gt; fiber</li>
<li><code>updater.vnode</code> --&gt; fiber._reactInternalFiber</li>
<li><code>updater.willReceive</code> --&gt; fiber._willReceive</li>
<li><code>updater.children</code> --&gt; fiber._children</li>
<li><code>updater.isMounted()</code> --&gt; fiber._isMounted()</li>
<li><code>updater.insertCarrier</code> --&gt; fiber._mountCarrier</li>
<li><code>updater.insertPoint</code> --&gt; fiber._mountPoint</li>
<li><code>updater.parentContext</code> --&gt; fiber._unmaskedContext</li>
<li><code>getChildContext</code> --&gt; getUnmaskedContext</li>
<li><code>getContextByTypes</code> --&gt; is getMaskedContext</li>
<li><code>CompositeUpdater.js</code> --&gt; ComponentFiber.js`</li>
<li><code>DOMUpdater.js</code> --&gt; HostFiber.js</li>
</ul>
</blockquote>
<h2 id="1.2.9-2018.02.06">1.2.9 (2018.02.06)</h2>
<ol>
<li>Fix focus/blur event implementation</li>
<li>Fix IE6-8 under onchange because it is implemented with onproperty, it will cause infinite loop BUG</li>
<li>Fixed the bug that diffProps could not modify the type attribute of the input element and instead immediately added the type attribute to the createElement method</li>
</ol>
<h2 id="1.2.8-2018.02.02">1.2.8 (2018.02.02)</h2>
<ol>
<li>Simplify the implementation of focus/blur events, IE7-8 implementation is more streamlined</li>
<li>Correct the calculation of the properties of the wheel event, consistent with the official</li>
<li>In order to support react-hot-loader, vnode.updater.vnode is renamed vnode.updater._reactInnerFiber, and vtype is renamed to tag.</li>
<li>Test tools and debugging tools have some property adjustments</li>
</ol>
<h2 id="1.2.7-2018.02.01">1.2.7 (2018.02.01)</h2>
<ol>
<li>Correct the execution condition of componentWillReceiveProps</li>
<li>Support children as functions</li>
<li>Modify the position of the _disposed switch</li>
<li>Fix focus system, it will only execute in browser insertElement, removeElement</li>
<li>Fix the binding of focus/blur events, and need to mask internal events when capturing</li>
<li>Fixed an invalid DOM insert operation in insertElement and insertElement passed in CompositeUpdatet.hydrate</li>
</ol>
<h2 id="1.2.6-2018.01.26">1.2.6 (2018.01.26)</h2>
<p>Fixed an error pointing to the context object in unstable_renderSubtreeIntoContainer</p>
<h2 id="1.2.5-2018.01.23">1.2.5 (2018.01.23)</h2>
<ol>
<li>Fixed BUG of controlled component radio, which could not modify value</li>
</ol>
<h2 id="1.2.4-2018.01.22">1.2.4 (2018.01.22)</h2>
<ol>
<li>Solve the mobile side scroll event</li>
</ol>
<h2 id="1.2.3-2018.01.12">1.2.3 (2018.01.12)</h2>
<ol>
<li>Resolve mobile click events</li>
</ol>
<h2 id="1.2.2-2018.01.05">1.2.2 (2018.01.05)</h2>
<ol>
<li>Solve the problem of PropTypes share</li>
<li>Fix the inherit BUG of utils</li>
<li>Add renderToNodeStream support for backend rendering</li>
<li>Component adds isReactCompent method to enhance support for third parties</li>
</ol>
<h2 id="1.2.2-2017.12.30">1.2.2 (2017.12.30)</h2>
<ol>
<li>The cloneElement needs to handle the disposed element</li>
<li>cloneElement copy the virtual DOM of the props</li>
<li>Set the timing of attributes in advance</li>
</ol>
<h2 id="1.2.1-2017.12.27">1.2.1 (2017.12.27)</h2>
<ol>
<li>Optimize fiberizeChildren's performance</li>
<li>Fix the BUG of the controlled component in the textarea, radio, and put the controlled event into the user?</li>
<li>Add focus system support (global focus, blur event listens in advance, remove the Refs.nodeOperate start node)</li>
<li>Resolve the bug in option.async of the event system when React is introduced multiple times.</li>
<li>Simplify the implementation of createPortal</li>
<li>Fragment syntax sugar supporting React 16.2</li>
</ol>
<h2 id="1.2.02017.12.17-support-react16">1.2.0(2017.12.17) Support React16</h2>
<ol>
<li>Reconstruct findDOMNode, encountered comment node returns null</li>
<li>Support React component returns any data type, such as arrays, strings, numbers, Boolean, but for undefined, null, boolean does not generate a real DOM</li>
<li>Support logic for componentDidCatch hooks and entire error boundaries</li>
<li>support createPortal</li>
<li>Detach the Vndoe module with its node relationship attribute (return, sibling, child),
   * return is equivalent to the previous _hostParent,
   * sibling is equivalent to nextSibling,
   * child is equivalent to firstChild,</li>
<li>Mimic React16 and use the <code>stateNode attribute</code> instead of the old _hostNode and _instance.</li>
<li>The method of React.Children and flattenChilden underlying dependencies is changed from _flattenChildren to operatedChildren to make it more versatile.
   flattenChilden is renamed to fiberizeChildren and produces an array with a linked list structure.</li>
<li>New architecture: element virtual DOM and component virtual DOM have their own updated objects, simplify the matching algorithm</li>
<li>Simplify the Refs module</li>
<li>Fixed bug that namespaceURI is missing when updating virtual DOM</li>
<li>componentDidUpdate now only has two parameters, lastProps and lastState</li>
</ol>
<h2 id="1.1.4-2017.10.20">1.1.4 (2017.10.20)</h2>
<ol>
<li>Fix updater object leaks in flushUpdaters (requires clearArray)</li>
<li>Optimize the diffChildren's logic to prevent parentNode equal to null (like fetching firstChild for text nodes)</li>
<li>Simplified ControlledComponent and dispose modules</li>
<li>Dealing with the same reference in the updateElement method for two virtual DOMs when the old vchildren is lost when flattenChildren is called</li>
<li>Remove createStringRef, createInsanceRef, add fireRef in Refs,
   Refactor detachRef, clearRefs, cloneElement, createElement ref parts to minimize the use of closures</li>
<li>Remove the updateQueue array from all diff methods and merge them into the scheduler</li>
</ol>
<h2 id="1.1.3-2017.10.08">1.1.3 (2017.10.08)</h2>
<ol>
<li>Abstract an Update class that encapsulates all private data on a component instance</li>
<li>Abstract an instantiateComponente for instantiating stateful and stateless components at the same time, no more mountStateless, updateStateless methods</li>
<li>Fix the checkpoint point triggers two bugs onChange</li>
<li>Add ReceiveComponent detection mechanism, if the context, props, then will not perform the receive, render, update hooks</li>
<li>Modify the logic to detect empty objects</li>
<li>Simplify the logic of the task scheduling system</li>
</ol>
<h2 id="1.1.2-2017.10.01">1.1.2 (2017.10.01)</h2>
<ol>
<li>Fixed onChange event</li>
<li>Refactoring the implementation of the diffProps module</li>
<li>Support component isMounted method</li>
<li>Add beforePatch, afterPatch hook</li>
<li>Add lib/ReactInputSelection.js</li>
<li>Unify the parameters of all methods that operate on the virtual DOM (mountXXX, updateXXX, alignXXX series)</li>
</ol>
<blockquote>
<p>1 The first parameter is the old real DOM or the old virtual DOM
2 The second parameter is the new virtual DOM
3 The third parameter is the parent virtual DOM (may not exist, then directly followed by the fourth, fifth)
4 The fourth parameter is the context object
5 The fifth parameter is the task scheduling system</p>
</blockquote>
<ol start="7">
<li>Get a new namespace for the element's namespace</li>
<li>On-line new node sorting algorithm (diffChildren)</li>
<li>renderByAnu should empty CurrentOwner.cur after global rendering to prevent affecting other virtual DOM</li>
<li>Perfect createStringRef method, should be able to throw wrong and delete useless data</li>
<li>New on-line task scheduling system</li>
<li>Refactoring the unmountComponentAtNode method</li>
<li>Add a reference to the contextType of the child component to determine whether to update it if adding references to both virtual DOMs is the same</li>
<li>The stateless component supports module mode (returns a pure object with life cycle hooks. These methods are invoked like stateful components)</li>
<li>Relax shouldComponentUpdate's limit and return any false value to prevent descendants from updating</li>
<li>Correct the ref update method</li>
<li>When shouldComponentUpdate returns a false value, the current virtual DOM should absorb useful information of the old virtual DOM</li>
</ol>
<h2 id="1.1.1-2017.9.9">1.1.1 (2017.9.9)</h2>
<ol>
<li>Simplify createClass</li>
<li>Fixed flattenHooks BUG, ​​if there is only one function in hooks, there is no need to include a layer</li>
<li>The implementation of the reconstructed virtual DOM tree, consistent with the official React, that props.children is now a variety of forms, only to create a vchildren for comparison when delayed to diff</li>
<li>Fixed disposeElement. If there is dangerously setInnerHTML, it is necessary to clear the interior of the element, without going through the branch of the sub-virtual DOM.</li>
<li>Fixed diffProps, SVG elements are case sensitive as viewBox preserveAspectRation</li>
<li>When the component is updated, it is detected whether the context changes</li>
<li>Implement the persist method for the event object</li>
<li>Fixed this pointing to the callback of unstable_renderSubtreeIntoContainer</li>
<li>Fixed unmountComponentAtNode BUG, ​​#text changed to #comment</li>
<li>Fix the cloneElement BUG to ensure that children and _owner are correctly passed in</li>
<li>Fix the ref mechanism, if it is a string, pass the current ref, owner via the createStringRef method, and return a curry method when in cloneElement
    The method created by createStringRef is then integrated into the new ref method to ensure that the old owner is updated again</li>
<li>Fixed implementation of getNs method (originally using hash table for exhaustive, but svg document also has a, script, style elements, resulting in indistinguishable)</li>
<li>The user is using setState in componentDidUpdate is improper operation, leading to enter the infinite loop, use the timer to slow down the call frequency, prevent the page stuck (the official React also exists a similar mechanism)</li>
</ol>
<h2 id="1.1.0-2017.08.28">1.1.0 (2017.08.28)</h2>
<ol>
<li>The disabled element cannot trigger a click event</li>
<li>Fix bug in mouseenter/mouseleave in IE6-8, related to correct acquisition of TargetTarget and LCA processing</li>
<li>Simplify the logic of alignVnode and reduce the generation of insert queues</li>
<li>Reconstruct setStateImpl,</li>
<li><code>_component</code> is renamed to <code>__component</code>, <code>_currentElement</code> is renamed to <code>__current</code></li>
<li>Add some simple peripheral modules to react/lib, such as ReactComponentWithPureRenderMixin, shallowCompare, sliceChildren</li>
</ol>
<h2 id="1.0.8-2017.08.18">1.0.8 (2017.08.18)</h2>
<ol>
<li>event.originalEvent renamed event.nativeEvent</li>
<li>Fixed Bug of forEach in polyfill
Remove the scheduler module</li>
<li>Remove the instanceMap module</li>
<li>Fix the bug that typeNumber is under iE6-8</li>
<li><code>eventSystem.addGlobalEventListener</code> renamed to eventSystem.addGlobalEvent</li>
<li>Avoid the problem that insertBfore cannot be undefined in IE8.</li>
<li>Fix the bug that the ref delays execution. If the vnode of the component has the ref attribute, it should be put in the <code>__pendingRefs</code> array of this component instead of the <code>__pendingRefs</code> array of the parent component.
   In addition the elements in the <code>__pendingRefs</code> array are changed from objects to functions</li>
<li>After the componentDidMount hook executes setState in the component, all callbacks should be delayed outside componentDidUpdate</li>
<li>Make sure the instance in mountComponent should be saved to vnode as soon as possible</li>
<li>Fixed a bug that only executed dangeroussetInnerHTML in the updateElement method</li>
<li>Handling mouseenter/mouseleave compatibility issues</li>
<li>Handling focus/blur compatibility issues</li>
</ol>
<h2 id="1.0.7-2017.07.29">1.0.7 (2017.07.29)</h2>
<ol>
<li>Handle the user in the render method return this.props.children, you need to convert the array to a single virtual DOM</li>
<li>The case where two component virtual DOMs are not instantiated</li>
<li>Only recycle text nodes</li>
<li>Support mouseenter/mouseleave and reconstruct event system</li>
</ol>
<h2 id="1.0.6-2017.07.24">1.0.6 (2017.07.24)</h2>
<ol>
<li>Re-support Chrome DevTools</li>
<li>Add support for Immutable.js</li>
<li>Fix the bug that the user executed setState to cause an infinite loop in the componentWillUpdate/shouldComponentUpdate/componentDidUpdate hook</li>
</ol>
<h2 id="1.0.5-2017.07.14">1.0.5 (2017.07.14)</h2>
<ol>
<li>Optimize the scheduler mechanism
2 to achieve support for createFactory</li>
<li>Optimize dispose module</li>
<li>Use typeNumber instead of typeof keyword to reduce the packaged volume</li>
</ol>
<h2 id="1.0.4-2017.07.07">1.0.4 (2017.07.07)</h2>
<ol>
<li>Fix errors to preventdefault inside passive event listener due to target
   This is chrome51+. To improve performance, the problem caused by the preventDefault method is disabled by default for the touchmove/mousemove/mousewheel event.</li>
<li>Destroy element nodes and completely clear the _component and __events references</li>
<li>Cancel refs.xxx = null operation, to ensure that the component may be animated after destruction, there will be no error DOM operation</li>
<li>Enhance props.children to support more legal types
5 to achieve support for createClass</li>
<li>Implementing support for mixins</li>
</ol>
<h2 id="1.0.3-2017.07.25">1.0.3 (2017.07.25)</h2>
<ol>
<li>Implements unstable_renderSubtreeIntoContainer, findDOMNode, isValidElement methods</li>
<li>Implement complete support for Children (only, count, forEach, map, toArray)</li>
<li>Compatible with focus, blur, wheel</li>
<li>BUG with no defaultProps added when updating components</li>
<li>Fixed some typos in diffProps</li>
<li>Compatible with event object pagex, pageY, which, currentTarget</li>
<li>Fix the bug that user invokes setState when componentWillMount is called</li>
<li>The cloneElement should be able to process the array and remove its first element.</li>
<li>Cancel the transaction mechanism and change it to a scheduled task</li>
</ol>
<h2 id="1.0.2-2017.06.20">1.0.2 (2017.06.20)</h2>
<ol>
<li>Compatible with IE to implement the corresponding polyfill file</li>
<li>Implement change, input, and submit events for IE6-8</li>
<li>Add processing for select.value</li>
</ol>
<h2 id="1.0.1-2017.06.09">1.0.1 (2017.06.09)</h2>
<ol>
<li>Supports cloneElement</li>
</ol>
<h2 id="1.0.0-2017.06.05">1.0.0 (2017.06.05)</h2>
<ol>
<li>Post anu
点击图标下载 App</li>
</ol>
</div><div class="m-content-container m-paging"><div class="m-paging-prev m-paging-item"><a href="compat.html" class="href"><span class="ui-font-ydoc"></span>compat</a></div><div class="m-paging-next m-paging-item"><a href="ssr.html" class="href">ssr<span class="ui-font-ydoc"></span></a></div></div></div></div></div><div></div><script>
    var $content = document.getElementById('js-content');
    var $summaryItems = Array.prototype.slice.call(document.querySelectorAll('#js-menu .href'));
    var $menu = document.getElementById('js-menu');
    if ($menu && sessionStorage.menuScrollTop) {
		$menu.scrollTop = sessionStorage.menuScrollTop;
    }
    // 刷新页面但不切换 pathname 的时候，内容区恢复到记忆的高度
    if ($content && sessionStorage.contentScrollTop && window.location.pathname == sessionStorage.locationPathname) {
      $content.scrollTop = sessionStorage.contentScrollTop;
    }
    sessionStorage.setItem('locationPathname', window.location.pathname);</script><script src="../ydoc/scripts/plugins/dollar.min.js"></script><script src="../ydoc/scripts/plugins/responsive-nav.min.js"></script><script src="../ydoc/scripts/plugins/slideout.min.js"></script><script src="../ydoc/scripts/app.js"></script><script src="../ydoc/ydoc-plugin-search/core.js"></script><script src="../ydoc/ydoc-plugin-search/search.js"></script><script src="../search_json.js"></script></body></html>