<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">   
    <script type='text/javascript' src="./dist/React.js"></script>
    <!--<script src="./test/react.js"></script>
    <script src="./test/react-dom.js"></script>-->
  
     <script type='text/javascript' src="./lib/babel.js"></script>
  <script type='text/babel'>
  var s
  window.onload = function(){
   
    var log = [];
    
        class Inner extends React.Component {
          render() {
            console.log(`inner ${this.props.id} render`);
            return <div />;
          }
    
          componentDidMount() {
            console.log(`inner ${this.props.id} componentDidMount`);
          }
    
          componentDidUpdate() {
            console.log(`inner ${this.props.id} componentDidUpdate`);
          }
    
          componentWillUnmount() {
            console.log(`inner ${this.props.id} componentWillUnmount`);
          }
        }
    
        class Outer extends React.Component {
          render() {
            return (
              <div>
                <Inner
                  id={1}
                  ref={c => {
                    console.log(`ref 1 got ${c ? `instance ${c.props.id}` : 'null'}`);
                  }}
                />
                <Inner
                  id={2}
                  ref={c => {
                    console.log(`ref 2 got ${c ? `instance ${c.props.id}` : 'null'}`);
                  }}
                />
              </div>
            );
          }
    
          componentDidMount() {
            console.log('outer componentDidMount');
          }
    
          componentDidUpdate() {
            console.log('outer componentDidUpdate');
          }
    
          componentWillUnmount() {
            console.log('outer componentWillUnmount');
          }
        }
    
        // mount, update, unmount
        var el = document.createElement('div');
        console.log('start mount');
        ReactDOM.render(<Outer />, el);
        console.log('start update');
        ReactDOM.render(<Outer />, el);
       

        setTimeout(function(){
        //  console.log(log.join("\n"))
        },100)


  
  }
  </script>

</head>

<body>

    <div>开发者工具</div>
    <div id='example'></div>


</body>

</html>