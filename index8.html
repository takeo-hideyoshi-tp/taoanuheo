<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type='text/javascript' src="./dist/React.js"></script>
  <!--  <script type='text/javascript' src="./react.js"></script>
    <script type='text/javascript' src="./react-dom.js"></script>-->
  <!--  <script type='text/javascript' src="./lib/ReactTestUtils.js"></script>-->

    <script type='text/javascript' src="./lib/babel.js"></script>
</head>

<body>

    <pre>应该等于
      
    </pre>
    
       
    <h1 id='example' class="root">

    </h1>

    <script type='text/babel'>
          var container = document.getElementById('example');
          var div = container;
          if (!window.ReactDOM) {
              window.ReactDOM = React;
          }
        
          

          var expect = function(a) {
              return {
                  toBe: function(b) {
                      console.log(a, 'vs', b, a === b);
                  },
                  toEqual(b) {
                      console.log(a, 'vs', b, a + '' === b + '');
                  },
                  not: {
                    toBe: function(b) {
                      console.log(a, 'vs', b, a !== b);
                    },
                    toEqual(b) {
                        console.log(a, 'vs', b, a + '' !== b + '');
                    },
                  }
              };
            }
            const nonReactElemID = 'aID';
      const innerHTML = {__html: `<div id="${nonReactElemID}"></div>`};
      const closestInstanceID = 'closestInstance';
      let currentTargetID = null;
  
      class ClosestInstance extends React.Component {
        _onClick = e => {
          currentTargetID = e.currentTarget.id;
        };
        render() {
          return (
            <div
              id={closestInstanceID}
              onClick={this._onClick}
              dangerouslySetInnerHTML={innerHTML}
            />
          );
        }
      }
  
      function simulateClick(elem) {
        const event = new MouseEvent('click', {
          bubbles: true,
        });
        elem.dispatchEvent(event);
      }
  
      const component = <ClosestInstance />;
      ReactDOM.render(<section>{component}</section>, container);
      expect(currentTargetID).toBe(null);
      simulateClick(document.getElementById(nonReactElemID));
      expect(currentTargetID).toBe(closestInstanceID);
</script>


</html>