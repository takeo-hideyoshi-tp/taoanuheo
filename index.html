<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

  <script>

    function longestPalindrome( s) {
        if(s.length <= 1)
            return s;
        var carry = {
          sub: '',
          maxLen: 0
        }
        var n = s.length - 1; //因为i+1, 需要多留一个
        for(var i = 0;i < n;i++){
            findLongestPalindrome(s,i,i,n, carry);//单核回文
            findLongestPalindrome(s,i,i+1,n, carry);//双核回文
        }
        return carry.sub;
    }
    function findLongestPalindrome( s, low, high, n, carry ){
        while (low >= 0 && high <= n){
            if(s[low] == s[high]){
                if(high - low + 1 > carry.maxLen){
                     carry.maxLen = high - low + 1;
                     carry.sub = s.substring(low , high+1);
                }
                low --;//向两边扩散找当前字符为中心的最大回文子串
                high ++;
            } else{
                break;
            } 
        }
    }


console.log(longestPalindrome('babad'))
console.log(longestPalindrome('cbbd'))


//SEM是付费的，IOS是越狱市场， 积分墙
/*
console.log(longestSubstring('aaabb',3))
console.log(longestSubstring('ababbc',2))
console.log(longestSubstring('ababbddcaaabbb',2))
*/


    </script>
  <div id='root'></div>
</body>

</html>

