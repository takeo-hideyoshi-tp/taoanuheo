<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type='text/javascript' src="./dist/ReactNoop.js"></script>
    <!-- <script type='text/javascript' src="./react.js"></script>
    <script type='text/javascript' src="./react-dom.js"></script>-->
    <script type='text/javascript' src="./lib/ReactTestUtils.js"></script>

    <script type='text/javascript' src="./lib/babel.js"></script>
</head>

<body>

    <pre>应该等于
      
    </pre>


    <h1 id='example' class="root">

    </h1>

    <script type='text/babel'>
    var React = ReactNoop;
var container = document.getElementById('example');
var div = container;
if (!window.ReactDOM) {
  window.ReactDOM = React;
 
}
var PropTypes = React.PropTypes

var expect = function(a) {
	return {
		toBe: function(b) {
			console.log(a, 'vs', b, a === b);
		},
		toEqual(b) {
			console.log(a, 'vs', b, a + '' === b + '');
		},
	};
};

class ControlledInputs extends React.Component {
  state = {value: 'lion'};
  a = null;
  b = null;
  switchedFocus = false;
  change(newValue) {
    this.setState({value: newValue});
    // Calling focus here will blur the text box which causes a native
    // change event. Ideally we shouldn't have to fire this ourselves.
    // Don't remove unless you've verified the fix in #8240 is still covered.
    dispatchEventOnNode(this.a, 'change');
    this.b.focus();
  }
  blur(currentValue) {
    this.switchedFocus = true;
    // currentValue should be 'giraffe' here because we should not have
    // restored it on the target yet.
    this.setState({value: currentValue});
  }
  render() {
    return (
      <div>
        <input
          type="text"
          ref={n => (this.a = n)}
          value={this.state.value}
          onChange={e => this.change(e.target.value)}
          onBlur={e => this.blur(e.target.value)}
        />
        <input type="text" ref={n => (this.b = n)} />
      </div>
    );
  }
}

const container = document.createElement('div');
const instance = ReactDOM.render(<ControlledInputs />, container);

// We need it to be in the body to test native event dispatching.
document.body.appendChild(container);

// Focus the field so we can later blur it.
// Don't remove unless you've verified the fix in #8240 is still covered.
instance.a.focus();
setUntrackedValue.call(instance.a, 'giraffe');
// This must use the native event dispatching. If we simulate, we will
// bypass the lazy event attachment system so we won't actually test this.
dispatchEventOnNode(instance.a, 'change');
dispatchEventOnNode(instance.a, 'blur');

expect(instance.a.value).toBe('giraffe');
expect(instance.switchedFocus).toBe(true);

   </script>
</body>


</html>